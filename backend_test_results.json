{
  "summary": {
    "passed": 33,
    "failed": 6
  },
  "detailed_results": [
    {
      "test": "API Root",
      "success": true,
      "details": "Root endpoint accessible: ETF Intelligence System API - Enhanced Version",
      "timestamp": "2025-08-12T10:59:44.659319",
      "response_data": null
    },
    {
      "test": "Authentication System",
      "success": true,
      "details": "Complete authentication system working: login, JWT tokens, user info, password updates, forgot password",
      "timestamp": "2025-08-12T10:59:45.893190",
      "response_data": null
    },
    {
      "test": "AI Chat Integration",
      "success": true,
      "details": "AI chat system fully functional: model selection, sessions, chat with/without chart context, message history",
      "timestamp": "2025-08-12T10:59:53.980250",
      "response_data": null
    },
    {
      "test": "Enhanced Company Search",
      "success": true,
      "details": "Company search system working: ticker/name search, detailed info, logos, sector rotation analysis",
      "timestamp": "2025-08-12T10:59:54.519349",
      "response_data": null
    },
    {
      "test": "TradingView Integration",
      "success": true,
      "details": "TradingView integration working: account connection, chart drawing save/retrieve",
      "timestamp": "2025-08-12T10:59:54.663384",
      "response_data": null
    },
    {
      "test": "Interactive Charts",
      "success": true,
      "details": "Interactive charts working: multiple timeframes (4), indices and individual tickers, OHLCV data",
      "timestamp": "2025-08-12T10:59:56.795545",
      "response_data": null
    },
    {
      "test": "Spreadsheet Interface",
      "success": false,
      "details": "No spreadsheet data returned",
      "timestamp": "2025-08-12T10:59:56.804769",
      "response_data": null
    },
    {
      "test": "Enhanced Watchlist Management",
      "success": true,
      "details": "Enhanced watchlist management working: custom lists, manual stock add/remove, detailed stock info",
      "timestamp": "2025-08-12T10:59:57.006273",
      "response_data": null
    },
    {
      "test": "Historical Data Pruning",
      "success": true,
      "details": "Historical data pruning working: configurable retention periods, multiple data types, deletion counts",
      "timestamp": "2025-08-12T10:59:57.075664",
      "response_data": null
    },
    {
      "test": "Phase 1: ETF Regime Config",
      "success": true,
      "details": "ETF regime config returned with correct kind and default params",
      "timestamp": "2025-08-12T10:59:57.087001",
      "response_data": null
    },
    {
      "test": "Phase 1: All Formula Configs",
      "success": true,
      "details": "All configs returned (2 configs) including etf_regime",
      "timestamp": "2025-08-12T10:59:57.137223",
      "response_data": null
    },
    {
      "test": "Phase 1: Market State",
      "success": true,
      "details": "Market state returned with regime=UPTREND, msae_score=83.8, stale=True",
      "timestamp": "2025-08-12T10:59:57.776916",
      "response_data": null
    },
    {
      "test": "Phase 1: Market History",
      "success": true,
      "details": "Market history returned 12 snapshots with valid structure",
      "timestamp": "2025-08-12T10:59:59.770069",
      "response_data": null
    },
    {
      "test": "Phase 1: ETF Regime Signal",
      "success": true,
      "details": "ETF regime signal: decision=QQQI, confidence=0.5, weights_sum=1.00",
      "timestamp": "2025-08-12T10:59:59.785179",
      "response_data": null
    },
    {
      "test": "NDX: Get Constituents",
      "success": true,
      "details": "NDX constituents: 4 active, 5 total",
      "timestamp": "2025-08-12T10:59:59.846589",
      "response_data": null
    },
    {
      "test": "NDX: Post Constituents",
      "success": true,
      "details": "NDX constituents updated: version 5 -> 6",
      "timestamp": "2025-08-12T10:59:59.918812",
      "response_data": null
    },
    {
      "test": "NDX: Constituents Diff",
      "success": true,
      "details": "Constituents diff working: v6 to v6 (empty diff)",
      "timestamp": "2025-08-12T11:00:00.030196",
      "response_data": null
    },
    {
      "test": "NDX: Refresh Prices",
      "success": true,
      "details": "Price refresh: 4/4 succeeded (100.0%), 0 failed",
      "timestamp": "2025-08-12T11:00:02.596247",
      "response_data": null
    },
    {
      "test": "Legacy: Formulas Config",
      "success": true,
      "details": "Legacy config returned with 3 traditional fields",
      "timestamp": "2025-08-12T11:00:02.606472",
      "response_data": null
    },
    {
      "test": "Sanity: Dashboard",
      "success": true,
      "details": "Dashboard endpoint responding correctly",
      "timestamp": "2025-08-12T11:00:03.713709",
      "response_data": null
    },
    {
      "test": "Phase 2: ETF Regime Simulate",
      "success": false,
      "details": "Missing fields: ['equity_curve', 'total_return', 'max_drawdown', 'sharpe', 'flips', 'pl_by_regime', 'decisions', 'params_version']",
      "timestamp": "2025-08-12T11:00:05.800931",
      "response_data": null
    },
    {
      "test": "Phase 2: Universe Management",
      "success": false,
      "details": "Import failed: HTTP 422",
      "timestamp": "2025-08-12T11:00:05.862835",
      "response_data": null
    },
    {
      "test": "Phase 2: Stock Screens",
      "success": false,
      "details": "Neglected screen failed: HTTP 500",
      "timestamp": "2025-08-12T11:00:09.575571",
      "response_data": null
    },
    {
      "test": "Enhanced Dashboard API",
      "success": true,
      "details": "All enhanced dashboard features working: SA greetings, dual timezone, major indices, ZAR/USD, Fear & Greed integration",
      "timestamp": "2025-08-12T11:00:10.942396",
      "response_data": null
    },
    {
      "test": "Live Market Data APIs",
      "success": true,
      "details": "All live market data APIs working: indices, Fear & Greed, forex rates",
      "timestamp": "2025-08-12T11:00:11.487008",
      "response_data": null
    },
    {
      "test": "Export & Integration APIs",
      "success": false,
      "details": "No ETF data in export",
      "timestamp": "2025-08-12T11:00:11.536756",
      "response_data": null
    },
    {
      "test": "Formula Configuration APIs",
      "success": true,
      "details": "Formula configuration APIs working: get and update with recalculation trigger",
      "timestamp": "2025-08-12T11:00:21.172889",
      "response_data": null
    },
    {
      "test": "ETF Data Update",
      "success": true,
      "details": "Successfully updated 26 ETFs from yfinance",
      "timestamp": "2025-08-12T11:00:26.377479",
      "response_data": {
        "message": "Updated 26 ETFs",
        "count": 26
      }
    },
    {
      "test": "Get ETFs",
      "success": true,
      "details": "Retrieved 26 ETFs, filtering works correctly",
      "timestamp": "2025-08-12T11:00:26.407364",
      "response_data": null
    },
    {
      "test": "Enhanced Calculations",
      "success": true,
      "details": "All enhanced calculations mathematically accurate and professionally formatted",
      "timestamp": "2025-08-12T11:00:26.465710",
      "response_data": null
    },
    {
      "test": "MSAE and ETF Regime Engine",
      "success": false,
      "details": "formulas/config should return an array",
      "timestamp": "2025-08-12T11:00:26.475991",
      "response_data": null
    },
    {
      "test": "Swing Leaders",
      "success": true,
      "details": "Top 5 swing leaders returned with correct SATA + RS scoring",
      "timestamp": "2025-08-12T11:00:26.484771",
      "response_data": null
    },
    {
      "test": "Universal Stock Lookup",
      "success": true,
      "details": "Successfully retrieved data for 5 different stock tickers",
      "timestamp": "2025-08-12T11:00:28.174393",
      "response_data": null
    },
    {
      "test": "Watchlist Management",
      "success": true,
      "details": "All CRUD operations working correctly",
      "timestamp": "2025-08-12T11:00:28.390805",
      "response_data": null
    },
    {
      "test": "Custom Watchlist Lists",
      "success": true,
      "details": "Custom watchlist lists management working correctly",
      "timestamp": "2025-08-12T11:00:28.451129",
      "response_data": null
    },
    {
      "test": "Market Score",
      "success": true,
      "details": "MSAE scoring system working correctly",
      "timestamp": "2025-08-12T11:00:28.512301",
      "response_data": null
    },
    {
      "test": "Chart Analysis",
      "success": true,
      "details": "AI Chart Analysis working for 3 tickers with realistic recommendations",
      "timestamp": "2025-08-12T11:00:29.191482",
      "response_data": null
    },
    {
      "test": "Journal Management",
      "success": true,
      "details": "Journal CRUD operations working correctly",
      "timestamp": "2025-08-12T11:00:29.310235",
      "response_data": null
    },
    {
      "test": "Historical Data",
      "success": true,
      "details": "Historical snapshots endpoint working correctly",
      "timestamp": "2025-08-12T11:00:29.376680",
      "response_data": null
    }
  ],
  "timestamp": "2025-08-12T11:00:29.385661"
}